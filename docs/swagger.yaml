basePath: /
definitions:
  dto.AuthResponse:
    properties:
      token:
        type: string
      user:
        $ref: '#/definitions/dto.UserResponse'
    type: object
  dto.CreateTripRequest:
    properties:
      currency:
        type: string
      description:
        type: string
      destination:
        type: string
      end_date:
        description: RFC3339 or YYYY-MM-DD
        type: string
      name:
        type: string
      start_date:
        description: RFC3339 or YYYY-MM-DD
        type: string
      status:
        description: draft | published | cancelled
        type: string
      total_budget:
        type: number
    type: object
  dto.CreateTripResponse:
    properties:
      trip:
        $ref: '#/definitions/dto.TripResponse'
    type: object
  dto.ErrorResponse:
    properties:
      error:
        type: string
      message:
        type: string
    type: object
  dto.ForgotPasswordRequest:
    properties:
      email:
        example: user@example.com
        type: string
    type: object
  dto.ForgotPasswordResponse:
    properties:
      email:
        example: user@example.com
        type: string
      expires_in:
        example: 3 minutes
        type: string
      message:
        example: Verification code has been sent to your email
        type: string
    type: object
  dto.GetOTPRequest:
    properties:
      email:
        example: user@example.com
        type: string
    type: object
  dto.GetOTPResponse:
    properties:
      code:
        example: "123456"
        type: string
      created_at:
        example: "2025-10-27T23:39:00Z"
        type: string
      email:
        example: user@example.com
        type: string
      expires_at:
        example: "2025-10-27T23:42:00Z"
        type: string
      used:
        example: false
        type: boolean
    type: object
  dto.HealthResponse:
    properties:
      details: {}
      status:
        type: string
    type: object
  dto.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  dto.Pagination:
    properties:
      limit:
        type: integer
      offset:
        type: integer
      total:
        type: integer
    type: object
  dto.ProfileCreateRequest:
    properties:
      allergic_drugs:
        type: string
      allergic_food:
        type: string
      avatar_url:
        type: string
      bio:
        type: string
      birth_date:
        description: '"YYYY-MM-DD" หรือ RFC3339'
        type: string
      chronic_disease:
        type: string
      display_name:
        type: string
      emergency_contact:
        type: string
      first_name:
        type: string
      food_preferences:
        type: string
      last_name:
        type: string
      phone:
        type: string
      username:
        type: string
    type: object
  dto.ProfileCreateResponse:
    properties:
      message:
        type: string
      user:
        properties:
          username:
            type: string
        type: object
    type: object
  dto.ProfileGetResponse:
    properties:
      user:
        properties:
          allergic_drugs:
            type: string
          allergic_food:
            type: string
          avatar_url:
            type: string
          bio:
            type: string
          birth_date:
            description: จะส่งเป็น "YYYY-MM-DD"
            type: string
          chronic_disease:
            type: string
          created_at:
            description: RFC3339
            type: string
          display_name:
            type: string
          email:
            type: string
          emergency_contact:
            type: string
          first_name:
            type: string
          food_preferences:
            type: string
          id:
            type: string
          last_name:
            type: string
          phone:
            type: string
          role:
            type: string
          updated_at:
            description: RFC3339 (ใช้ users.updated_at)
            type: string
          username:
            type: string
        type: object
    type: object
  dto.RegisterRequest:
    properties:
      email:
        type: string
      password:
        minLength: 6
        type: string
    required:
    - email
    - password
    type: object
  dto.ResetPasswordRequest:
    properties:
      new_password:
        example: newPassword123
        type: string
      reset_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        type: string
    type: object
  dto.ResetPasswordResponse:
    properties:
      message:
        example: Password has been reset successfully
        type: string
    type: object
  dto.TripDetailResponse:
    properties:
      members:
        items:
          $ref: '#/definitions/dto.TripMember'
        type: array
      permissions:
        $ref: '#/definitions/dto.TripPermissions'
      stats:
        $ref: '#/definitions/dto.TripStats'
      trip:
        $ref: '#/definitions/dto.TripDetailTrip'
    type: object
  dto.TripDetailTrip:
    properties:
      created_at:
        type: string
      creator_id:
        type: string
      currency:
        type: string
      description:
        type: string
      destination:
        type: string
      end_date:
        type: string
      id:
        type: string
      name:
        type: string
      start_date:
        type: string
      status:
        type: string
      total_budget:
        type: number
      updated_at:
        type: string
    type: object
  dto.TripInvitationListItem:
    properties:
      avatar_url:
        type: string
      display_name:
        type: string
      invited_at:
        description: RFC3339
        type: string
      invited_by:
        description: uuid
        type: string
      status:
        description: pending | accepted | declined
        type: string
      user_id:
        type: string
      username:
        type: string
    type: object
  dto.TripInvitationRespondMember:
    properties:
      joined_at:
        description: nil when decline
        type: string
      role:
        type: string
      status:
        description: accepted | declined
        type: string
      user_id:
        type: string
    type: object
  dto.TripInvitationRespondRequest:
    properties:
      response:
        description: accept | decline
        type: string
    type: object
  dto.TripInvitationRespondResponse:
    properties:
      member:
        $ref: '#/definitions/dto.TripInvitationRespondMember'
      message:
        type: string
      trip:
        $ref: '#/definitions/dto.TripInvitationRespondTrip'
    type: object
  dto.TripInvitationRespondTrip:
    properties:
      destination:
        type: string
      id:
        type: string
      name:
        type: string
    type: object
  dto.TripInvitationsListResponse:
    properties:
      invitations:
        items:
          $ref: '#/definitions/dto.TripInvitationListItem'
        type: array
      stats:
        $ref: '#/definitions/dto.TripInvitationsStats'
    type: object
  dto.TripInvitationsStats:
    properties:
      accepted:
        type: integer
      declined:
        type: integer
      pending:
        type: integer
      total:
        type: integer
    type: object
  dto.TripInviteResponse:
    properties:
      expires_at:
        description: RFC3339
        type: string
      invitation_link:
        type: string
      message:
        type: string
    type: object
  dto.TripJoinViaLinkRequest:
    properties:
      invitation_token:
        type: string
    type: object
  dto.TripJoinViaLinkResponse:
    properties:
      member:
        properties:
          joined_at:
            type: string
          role:
            type: string
          status:
            type: string
          user_id:
            type: string
        type: object
      message:
        type: string
      trip:
        properties:
          destination:
            type: string
          id:
            type: string
          name:
            type: string
        type: object
    type: object
  dto.TripListItem:
    properties:
      created_at:
        type: string
      creator_id:
        type: string
      currency:
        type: string
      destination:
        type: string
      end_date:
        type: string
      id:
        type: string
      member_count:
        type: integer
      name:
        type: string
      start_date:
        type: string
      status:
        type: string
      total_budget:
        type: number
    type: object
  dto.TripListResponse:
    properties:
      pagination:
        $ref: '#/definitions/dto.Pagination'
      trips:
        items:
          $ref: '#/definitions/dto.TripListItem'
        type: array
    type: object
  dto.TripMember:
    properties:
      availability_submitted:
        type: boolean
      avatar_url:
        type: string
      display_name:
        type: string
      first_name:
        type: string
      invited_at:
        type: string
      joined_at:
        type: string
      last_name:
        type: string
      role:
        type: string
      status:
        type: string
      user_id:
        type: string
      username:
        type: string
    type: object
  dto.TripPermissions:
    properties:
      can_delete:
        type: boolean
      can_edit:
        type: boolean
      can_invite:
        type: boolean
      can_manage_budget:
        type: boolean
    type: object
  dto.TripResponse:
    properties:
      created_at:
        type: string
      creator_id:
        type: string
      currency:
        type: string
      description:
        type: string
      destination:
        type: string
      end_date:
        type: string
      id:
        type: string
      name:
        type: string
      start_date:
        type: string
      status:
        type: string
      total_budget:
        type: number
      updated_at:
        type: string
    type: object
  dto.TripStats:
    properties:
      accepted_members:
        type: integer
      members_with_availability:
        type: integer
      pending_invitations:
        type: integer
      total_members:
        type: integer
    type: object
  dto.UpdateTripRequest:
    properties:
      description:
        type: string
      destination:
        type: string
      end_month:
        description: YYYY-MM
        type: string
      name:
        type: string
      start_month:
        description: YYYY-MM
        type: string
      status:
        description: draft | published | cancelled
        type: string
      total_budget:
        type: number
    type: object
  dto.UserResponse:
    properties:
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      updated_at:
        type: string
    type: object
  dto.VerifyOTPRequest:
    properties:
      code:
        example: "123456"
        type: string
      email:
        example: user@example.com
        type: string
    type: object
  dto.VerifyOTPResponse:
    properties:
      expires_in:
        example: 10 minutes
        type: string
      message:
        example: OTP verified successfully
        type: string
      reset_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        type: string
    type: object
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: Go2gether Backend API for travel companion matching
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: http://swagger.io/terms/
  title: Go2gether Backend API
  version: "1.0"
paths:
  /api/auth/forgot-password:
    post:
      consumes:
      - application/json
      description: Send 6-digit verification code to user's email for password reset
      parameters:
      - description: Email address
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ForgotPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Verification code sent successfully
          schema:
            $ref: '#/definitions/dto.ForgotPasswordResponse'
        "400":
          description: Invalid request data
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Request password reset
      tags:
      - authentication
  /api/auth/get-otp:
    post:
      consumes:
      - application/json
      description: Get the latest verification code for an email (Development/Testing
        only)
      parameters:
      - description: Email address
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.GetOTPRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OTP retrieved successfully
          schema:
            $ref: '#/definitions/dto.GetOTPResponse'
        "400":
          description: Invalid request data
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: No OTP found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get OTP code
      tags:
      - authentication
  /api/auth/google/callback:
    get:
      consumes:
      - application/json
      description: Handle Google OAuth callback with authorization code
      parameters:
      - description: Authorization code from Google
        in: query
        name: code
        required: true
        type: string
      - description: State parameter for CSRF protection
        in: query
        name: state
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Login successful
          schema:
            $ref: '#/definitions/dto.AuthResponse'
        "400":
          description: Invalid request data
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Invalid authorization code
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Google OAuth callback
      tags:
      - authentication
  /api/auth/google/login:
    get:
      consumes:
      - application/json
      description: Initiate Google OAuth login flow
      produces:
      - application/json
      responses:
        "200":
          description: Google OAuth URL
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Google OAuth login
      tags:
      - authentication
  /api/auth/login:
    post:
      consumes:
      - application/json
      description: Authenticate user with email and password
      parameters:
      - description: Login credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Login successful
          schema:
            $ref: '#/definitions/dto.AuthResponse'
        "400":
          description: Invalid request data
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Invalid credentials
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Login user
      tags:
      - authentication
  /api/auth/profile:
    get:
      consumes:
      - application/json
      description: Get the current authenticated user's profile information
      produces:
      - application/json
      responses:
        "200":
          description: User profile retrieved successfully
          schema:
            $ref: '#/definitions/dto.UserResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user profile
      tags:
      - authentication
  /api/auth/register:
    post:
      consumes:
      - application/json
      description: Create a new user account with username, email, and password
      parameters:
      - description: User registration data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.RegisterRequest'
      produces:
      - application/json
      responses:
        "201":
          description: User created successfully
          schema:
            $ref: '#/definitions/dto.AuthResponse'
        "400":
          description: Invalid request data
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: User already exists
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Register a new user
      tags:
      - authentication
  /api/auth/reset-password:
    post:
      consumes:
      - application/json
      description: Reset user's password with new password using reset token
      parameters:
      - description: Reset token and new password
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ResetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Password reset successfully
          schema:
            $ref: '#/definitions/dto.ResetPasswordResponse'
        "400":
          description: Invalid request data
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Invalid or expired reset token
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Reset password
      tags:
      - authentication
  /api/auth/verify-otp:
    post:
      consumes:
      - application/json
      description: Verify the 6-digit code and get a temporary reset token
      parameters:
      - description: Email and verification code
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.VerifyOTPRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OTP verified successfully
          schema:
            $ref: '#/definitions/dto.VerifyOTPResponse'
        "400":
          description: Invalid request data
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Invalid or expired code
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Verify OTP
      tags:
      - authentication
  /api/profile:
    get:
      consumes:
      - application/json
      description: 6.2 ดูโปรไฟล์ของตัวเอง (ต้องมี Bearer JWT)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ProfileGetResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get my profile
      tags:
      - profile
    post:
      consumes:
      - application/json
      description: 6.1 เพิ่มโปรไฟล์ (ต้องมี Bearer JWT)
      parameters:
      - description: Profile payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.ProfileCreateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ProfileCreateResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create user profile
      tags:
      - profile
  /api/trips:
    get:
      parameters:
      - description: draft|published|cancelled|all
        in: query
        name: status
        type: string
      - description: items per page
        in: query
        name: limit
        type: integer
      - description: offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.TripListResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: List trips
      tags:
      - trips
    post:
      consumes:
      - application/json
      parameters:
      - description: Trip payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.CreateTripRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/dto.CreateTripResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Create a new trip
      tags:
      - trips
  /api/trips/{trip_id}:
    delete:
      parameters:
      - description: Trip ID
        in: path
        name: trip_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Delete a trip
      tags:
      - trips
    get:
      parameters:
      - description: Trip ID
        in: path
        name: trip_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.TripDetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Get trip detail
      tags:
      - trips
    put:
      consumes:
      - application/json
      parameters:
      - description: Trip ID
        in: path
        name: trip_id
        required: true
        type: string
      - description: Update payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateTripRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.CreateTripResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Update a trip
      tags:
      - trips
  /api/trips/{trip_id}/invitations:
    get:
      parameters:
      - description: Trip ID
        in: path
        name: trip_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.TripInvitationsListResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: List invitations of a trip (creator only)
      tags:
      - trips
    post:
      consumes:
      - application/json
      parameters:
      - description: Trip ID
        in: path
        name: trip_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.TripInviteResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Generate invitation link for a trip
      tags:
      - trips
  /api/trips/{trip_id}/invitations/{user_id}:
    delete:
      parameters:
      - description: Trip ID
        in: path
        name: trip_id
        required: true
        type: string
      - description: User ID
        in: path
        name: user_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Cancel a pending invitation (creator only)
      tags:
      - trips
  /api/trips/{trip_id}/invitations/respond:
    post:
      consumes:
      - application/json
      parameters:
      - description: Trip ID
        in: path
        name: trip_id
        required: true
        type: string
      - description: Respond payload
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.TripInvitationRespondRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.TripInvitationRespondResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Respond to a trip invitation
      tags:
      - trips
  /api/trips/{trip_id}/leave:
    post:
      parameters:
      - description: Trip ID
        in: path
        name: trip_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Leave a trip (for accepted members)
      tags:
      - trips
  /api/trips/{trip_id}/members/{user_id}:
    delete:
      parameters:
      - description: Trip ID
        in: path
        name: trip_id
        required: true
        type: string
      - description: User ID
        in: path
        name: user_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Remove a member from a trip (creator only)
      tags:
      - trips
  /api/trips/join:
    post:
      consumes:
      - application/json
      parameters:
      - description: Invitation token
        in: body
        name: payload
        required: true
        schema:
          $ref: '#/definitions/dto.TripJoinViaLinkRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.TripJoinViaLinkResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Join a trip via invitation link
      tags:
      - trips
  /healthz:
    get:
      consumes:
      - application/json
      description: Basic health check endpoint
      produces:
      - application/json
      responses:
        "200":
          description: Service is healthy
          schema:
            $ref: '#/definitions/dto.HealthResponse'
      summary: Health check
      tags:
      - health
  /livez:
    get:
      consumes:
      - application/json
      description: Process liveness check endpoint
      produces:
      - application/json
      responses:
        "200":
          description: Process is alive
          schema:
            $ref: '#/definitions/dto.HealthResponse'
      summary: Liveness check
      tags:
      - health
  /readyz:
    get:
      consumes:
      - application/json
      description: Readiness check endpoint including database connectivity
      produces:
      - application/json
      responses:
        "200":
          description: Service is ready
          schema:
            $ref: '#/definitions/dto.HealthResponse'
        "503":
          description: Service is degraded
          schema:
            $ref: '#/definitions/dto.HealthResponse'
      summary: Readiness check
      tags:
      - health
schemes:
- http
- https
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
